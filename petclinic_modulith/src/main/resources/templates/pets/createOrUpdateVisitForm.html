<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'owners')}">

<body>

<h2>
  <th:block th:if="${visit['new']}">New </th:block>
  Visit
</h2>

<form th:object="${visit}" class="form-horizontal" method="post">
  <div class="form-group has-feedback">
    <label>
      <input
        th:replace="~{fragments/inputField :: input ('Date', 'date', 'date')}"  />
    </label>
    <label>
      <input
        th:replace="~{fragments/inputField :: input ('Description', 'description', 'text')}" />
    </label>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button class="btn btn-primary" type="submit">Add Visit</button>
    </div>
  </div>
</form>

<br />
<b>Visits</b>
<table class="table table-striped">
  <tr>
    <th>Date</th>
    <th>Description</th>
  </tr>
  <tr th:if="${!visit['new']}" th:each="visit : ${prevVisits}">
    <td th:text="${#temporals.format(visit.date, 'yyyy-MM-dd')}"></td>
    <td th:text=" ${visit.description}"></td>
  </tr>
</table>

</body>
</html>
